{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HENRY\\\\hiring-job\\\\client\\\\src\\\\context\\\\AuthContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState } from \"react\";\nimport { jwtDecode } from \"jwt-decode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext(null);\nexport function AuthProvider({\n  children\n}) {\n  _s();\n  const [authState, setAuthState] = useState(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      try {\n        const user = jwtDecode(token);\n        return {\n          user,\n          token\n        };\n      } catch (error) {\n        console.error(\"Invalid token\");\n        localStorage.removeItem(\"token\");\n      }\n    }\n    return {\n      user: null,\n      token: null\n    };\n  });\n  const login = token => {\n    try {\n      const user = jwtDecode(token);\n      localStorage.setItem(\"token\", token);\n      setAuthState({\n        user,\n        token\n      });\n    } catch (error) {\n      console.error(\"Invalid token during login:\", error);\n      logout();\n    }\n  };\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    setAuthState({\n      user: null,\n      token: null\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user: authState.user,\n      token: authState.token,\n      login,\n      logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n_s(AuthProvider, \"LloC6Zd6Z8GZKZEzKfdmiKqd00E=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useState","jwtDecode","jsxDEV","_jsxDEV","AuthContext","AuthProvider","children","_s","authState","setAuthState","token","localStorage","getItem","user","error","console","removeItem","login","setItem","logout","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/HENRY/hiring-job/client/src/context/AuthContext.js"],"sourcesContent":["import { createContext, useState } from \"react\";\r\nimport {jwtDecode} from \"jwt-decode\"\r\n\r\nexport const AuthContext=createContext(null);\r\n\r\nexport function AuthProvider({children}) {\r\n    const [authState, setAuthState] = useState(()=>{\r\n        const token=localStorage.getItem(\"token\");\r\n        if(token){\r\n            try {\r\n                const user=jwtDecode(token);\r\n                return {user, token};\r\n            } catch (error) {\r\n                console.error(\"Invalid token\");\r\n                localStorage.removeItem(\"token\");\r\n            }\r\n        }\r\n        return {user:null, token:null}\r\n    });\r\n\r\n    const login= (token)=>{\r\n        try {\r\n            const user=jwtDecode(token);\r\n            localStorage.setItem(\"token\", token);\r\n            setAuthState({user, token});\r\n        } catch (error) {\r\n            console.error(\"Invalid token during login:\", error);\r\n            logout();\r\n        }\r\n    }\r\n\r\n    const logout =()=>{\r\n        localStorage.removeItem(\"token\");\r\n        setAuthState({user:null, token:null});\r\n    }\r\n\r\n    return(\r\n        <AuthContext.Provider value={{user:authState.user, token:authState.token, login, logout,}}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n    \r\n}"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,SAAQC,SAAS,QAAO,YAAY;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEpC,OAAO,MAAMC,WAAW,gBAACL,aAAa,CAAC,IAAI,CAAC;AAE5C,OAAO,SAASM,YAAYA,CAAC;EAACC;AAAQ,CAAC,EAAE;EAAAC,EAAA;EACrC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,MAAI;IAC3C,MAAMU,KAAK,GAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IACzC,IAAGF,KAAK,EAAC;MACL,IAAI;QACA,MAAMG,IAAI,GAACZ,SAAS,CAACS,KAAK,CAAC;QAC3B,OAAO;UAACG,IAAI;UAAEH;QAAK,CAAC;MACxB,CAAC,CAAC,OAAOI,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,eAAe,CAAC;QAC9BH,YAAY,CAACK,UAAU,CAAC,OAAO,CAAC;MACpC;IACJ;IACA,OAAO;MAACH,IAAI,EAAC,IAAI;MAAEH,KAAK,EAAC;IAAI,CAAC;EAClC,CAAC,CAAC;EAEF,MAAMO,KAAK,GAAGP,KAAK,IAAG;IAClB,IAAI;MACA,MAAMG,IAAI,GAACZ,SAAS,CAACS,KAAK,CAAC;MAC3BC,YAAY,CAACO,OAAO,CAAC,OAAO,EAAER,KAAK,CAAC;MACpCD,YAAY,CAAC;QAACI,IAAI;QAAEH;MAAK,CAAC,CAAC;IAC/B,CAAC,CAAC,OAAOI,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnDK,MAAM,CAAC,CAAC;IACZ;EACJ,CAAC;EAED,MAAMA,MAAM,GAAEA,CAAA,KAAI;IACdR,YAAY,CAACK,UAAU,CAAC,OAAO,CAAC;IAChCP,YAAY,CAAC;MAACI,IAAI,EAAC,IAAI;MAAEH,KAAK,EAAC;IAAI,CAAC,CAAC;EACzC,CAAC;EAED,oBACIP,OAAA,CAACC,WAAW,CAACgB,QAAQ;IAACC,KAAK,EAAE;MAACR,IAAI,EAACL,SAAS,CAACK,IAAI;MAAEH,KAAK,EAACF,SAAS,CAACE,KAAK;MAAEO,KAAK;MAAEE;IAAO,CAAE;IAAAb,QAAA,EACrFA;EAAQ;IAAAgB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAG/B;AAAClB,EAAA,CArCeF,YAAY;AAAAqB,EAAA,GAAZrB,YAAY;AAAA,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}