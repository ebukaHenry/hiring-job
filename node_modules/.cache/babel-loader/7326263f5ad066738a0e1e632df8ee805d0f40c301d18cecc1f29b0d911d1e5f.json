{"ast":null,"code":"import{useContext,useState}from\"react\";import{AuthContext}from\"../context/AuthContext\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CvUploads(){const{token}=useContext(AuthContext);const navigate=useNavigate();const[cv,setCv]=useState(null);const handleFileChange=e=>{setCv(e.target.files[0]);};const handleSubmit=async e=>{e.preventDefault();const formData=new FormData();formData.append(\"cv\",cv);const token=localStorage.getItem(\"token\");try{await axios.post(\"https://job-hiring-backend.onrender.com/api/upload/upload-cv\",formData,{headers:{\"Content-type\":\"multipart/form-data\",Authorization:\"Bearer \".concat(token)}});alert(\"CV uploaded successfully!\");navigate(\"/dashboard\");}catch(error){console.error(\"Upload failed:\",error);alert(\"Upload failed\");}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"cv\",accept:\".pdf,.doc,.docx\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})});}export default CvUploads;","map":{"version":3,"names":["useContext","useState","AuthContext","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","CvUploads","token","navigate","cv","setCv","handleFileChange","e","target","files","handleSubmit","preventDefault","formData","FormData","append","localStorage","getItem","post","headers","Authorization","concat","alert","error","console","children","onSubmit","type","name","accept","onChange"],"sources":["C:/Users/HENRY/hiring-job/client/src/pages/CvUpload.jsx"],"sourcesContent":["import { useContext, useState } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nfunction CvUploads() {\r\n    const {token} = useContext(AuthContext);\r\n    const navigate = useNavigate();\r\n\r\n    const [cv, setCv] = useState(null);\r\n\r\n    const handleFileChange=(e)=>{\r\n        setCv(e.target.files[0]);\r\n    }\r\n const handleSubmit=async(e)=>{\r\n        e.preventDefault();\r\n\r\n        const formData= new FormData();\r\n        formData.append(\"cv\",cv);\r\n        const token=localStorage.getItem(\"token\");\r\n        try {\r\n            await axios.post(\"https://job-hiring-backend.onrender.com/api/upload/upload-cv\",formData, {\r\n                headers: {\r\n                    \"Content-type\": \"multipart/form-data\",\r\n                    Authorization:`Bearer ${token}`,\r\n                },\r\n            });\r\n            alert(\"CV uploaded successfully!\");\r\n            navigate(\"/dashboard\");\r\n        } catch (error) {\r\n          console.error(\"Upload failed:\",error);\r\n          alert(\"Upload failed\");\r\n        }\r\n    }\r\n\r\n    return(\r\n    <div>\r\n        <form onSubmit={handleSubmit}>\r\n        <input type=\"file\" name=\"cv\" accept=\".pdf,.doc,.docx\" onChange={handleFileChange} />\r\n        <button type=\"submit\">Submit</button>\r\n        </form>\r\n    </div>\r\n    );\r\n    \r\n}\r\nexport default CvUploads;"],"mappings":"AAAA,OAASA,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CAC5C,OAASC,WAAW,KAAQ,wBAAwB,CACpD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAG/C,QAAS,CAAAC,SAASA,CAAA,CAAG,CACjB,KAAM,CAACC,KAAK,CAAC,CAAGV,UAAU,CAACE,WAAW,CAAC,CACvC,KAAM,CAAAS,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAE9B,KAAM,CAACQ,EAAE,CAAEC,KAAK,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAElC,KAAM,CAAAa,gBAAgB,CAAEC,CAAC,EAAG,CACxBF,KAAK,CAACE,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAC5B,CAAC,CACJ,KAAM,CAAAC,YAAY,CAAC,KAAM,CAAAH,CAAC,EAAG,CACtBA,CAAC,CAACI,cAAc,CAAC,CAAC,CAElB,KAAM,CAAAC,QAAQ,CAAE,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC9BD,QAAQ,CAACE,MAAM,CAAC,IAAI,CAACV,EAAE,CAAC,CACxB,KAAM,CAAAF,KAAK,CAACa,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACzC,GAAI,CACA,KAAM,CAAArB,KAAK,CAACsB,IAAI,CAAC,8DAA8D,CAACL,QAAQ,CAAE,CACtFM,OAAO,CAAE,CACL,cAAc,CAAE,qBAAqB,CACrCC,aAAa,WAAAC,MAAA,CAAWlB,KAAK,CACjC,CACJ,CAAC,CAAC,CACFmB,KAAK,CAAC,2BAA2B,CAAC,CAClClB,QAAQ,CAAC,YAAY,CAAC,CAC1B,CAAE,MAAOmB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,CAACA,KAAK,CAAC,CACrCD,KAAK,CAAC,eAAe,CAAC,CACxB,CACJ,CAAC,CAED,mBACAvB,IAAA,QAAA0B,QAAA,cACIxB,KAAA,SAAMyB,QAAQ,CAAEf,YAAa,CAAAc,QAAA,eAC7B1B,IAAA,UAAO4B,IAAI,CAAC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACC,MAAM,CAAC,iBAAiB,CAACC,QAAQ,CAAEvB,gBAAiB,CAAE,CAAC,cACpFR,IAAA,WAAQ4B,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC/B,CAAC,CACN,CAAC,CAGV,CACA,cAAe,CAAAvB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}